!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a02bd631-fc33-40ad-82fc-64727c3c060c",e._sentryDebugIdIdentifier="sentry-dbid-a02bd631-fc33-40ad-82fc-64727c3c060c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1948ae01"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5433],{5433:function(e,n,t){t.d(n,{Z:function(){return tb}});var r,i,l,o=t(42516),a=t(66626),s=t(4216),c=t(27387),u=t(96583),d=t(28690),h=t(59786),p=t(29609),f=t(98984),m=t(15235),v=t(18060),g=t(45271),y=t(99236),Z=t(78803),b=t(82230),w=t(64432),C=t(94778),x=t(59947),_=t(76575),B=t(73789),G=t(19003),U=t(55821),T=t(72093),I=t(24857),P=t(85438),S=t(50959),R=t(41733),k=t(21262),X=t(71440),A=t(99165),E=t(58995);function W(){var e=(0,k._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return W=function(){return e},e}function D(){var e=(0,k._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return D=function(){return e},e}function N(){var e=(0,k._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return N=function(){return e},e}function V(){var e=(0,k._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return V=function(){return e},e}function M(){var e=(0,k._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function Y(){var e=(0,k._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Y=function(){return e},e}var z={},F=(0,X.Ps)(W()),L=(0,X.Ps)(D(),F),$=(0,X.Ps)(N()),O=(0,X.Ps)(V()),H=(0,X.Ps)(M(),F),j=(0,X.Ps)(Y());function q(){var e=(0,k._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return q=function(){return e},e}function K(){var e=(0,k._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return K=function(){return e},e}var J={},Q=(0,X.Ps)(q()),ee=(0,X.Ps)(K(),Q),en=t(89993),et=t(49224),er=t(99266),ei=t(39732),el=t(11894),eo=(0,et.X)({styles0:[T.l0.colWithGap(16)],styles1:[T.l0.fontWeight.medium],styles2:[T.l0.rowWithGap(16)],styles3:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles4:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles5:[T.l0.rowWithGap(12),T.l0.justify.end],styles6:[T.l0.colWithGap(8)],styles7:[T.l0.flex.row,T.l0.justify.spaceBetween],styles8:[T.l0.colWithGap(4)],styles9:[T.l0.fontWeight.medium],styles10:[T.l0.colWithGap(16)],styles11:[T.l0.fontWeight.medium],styles12:[T.l0.rowWithGap(16)],styles13:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles14:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles15:[T.l0.rowWithGap(12),T.l0.justify.end],styles16:[T.l0.colWithGap(8)],styles17:[T.l0.flex.row,T.l0.justify.spaceBetween],styles18:[T.l0.colWithGap(4)],styles19:[T.l0.fontWeight.medium],styles20:[T.l0.rowWithGap(8),T.l0.align.center],styles21:[T.l0.fontWeight.medium],styles22:[T.l0.colWithGap(16)],continentSelectContainer:[(0,o._)({},T.BC.max(385),{leftMargin:0,width:"100%"})],styles26:[T.l0.colWithGap(8)],continentInputRow:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.start,(0,o._)({},T.BC.max(385),{flexDirection:"column",gap:"8px"})],styles28:[T.l0.colWithGap(4)],styles29:[T.l0.colWithGap(16)],styles30:[T.l0.flex.column],styles31:[T.l0.fontWeight.medium],styles32:[T.l0.colWithGap(24)],styles33:[T.l0.rowWithGap(12),T.l0.justify.end],styles34:[T.l0.rowWithGap(4),T.l0.align.center],styles35:[T.l0.fontWeight.medium],styles36:[T.l0.rowWithGap(4),T.l0.align.center],styles37:[T.l0.fontWeight.medium],styles38:[T.l0.colWithGap(24),T.l0.p(16)],styles39:[T.l0.border({color:T.TV.outlineDimmest,direction:"top"}),T.l0.p(16)],loadingContinentSelect:[T.l0.backgroundColor.backgroundDefault,er.p.backgroundPulse(),T.l0.borderRadius(4),T.l0.p(8),T.l0.height(24),T.l0.minWidth(200)],loadingContinentTitle:[T.l0.backgroundColor.backgroundDefault,er.p.backgroundPulse(),T.l0.borderRadius(4),T.l0.p(4),T.l0.height(20),T.l0.minWidth(30)],continentSelect:[T.l0.minWidth(160)]});function ea(e){var n,t,r=e.currentUser,i=(0,a._)((0,S.useState)(!1),2),l=i[0],o=i[1],d=(0,a._)((0,S.useState)(!1),2),h=d[0],g=d[1],Z=(0,a._)((0,S.useState)(null),2),w=Z[0],B=Z[1],U=(0,p.Y)("",f.Z.email),T=(0,p.Y)("",f.Z.password),I=(0,a._)((n=(0,R._)({},z,{onError:function(){return B("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?B(e.updateEmail.message):(o(!1),g(!0),T.setValue(""))}}),A.D(L,n)),2),P=I[0],k=I[1].loading,X=(t=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),U.value&&T.value||B("Please fill in all fields"),[4,U.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return B(null==n?void 0:n.message),[2];return[4,T.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return B(null==t?void 0:t.message),[2];return P({variables:{email:U.value,password:T.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return l?(0,s.tZ)("form",{onSubmit:X,children:(0,s.BX)(C.G,{css:eo.styles0,children:[(0,s.tZ)(b.h4,{level:2,css:eo.styles1,children:"Update your email"}),(0,s.BX)(C.G,{css:eo.styles2,children:[(0,s.BX)(C.G,{css:eo.styles3,children:[(0,s.tZ)("label",{htmlFor:"newEmail",children:(0,s.tZ)(b.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,s.tZ)(v.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return U.setValue(e.target.value)},value:U.value})]}),(0,s.BX)(C.G,{css:eo.styles4,children:[(0,s.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,s.tZ)(b.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,s.tZ)(v.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return T.setValue(e.target.value)},value:T.value})]})]}),w?(0,s.tZ)(en.Z,{children:w}):null,(0,s.BX)(C.G,{css:eo.styles5,children:[(0,s.tZ)(m.zx,{onClick:function(){return o(!1)},text:"Cancel"}),(0,s.tZ)(m.zx,{disabled:k,colorway:"primary",type:"submit",text:k?"Updating...":"Update",iconLeft:(0,s.tZ)(x.Z,{})})]})]})}):(0,s.BX)(C.G,{css:eo.styles6,children:[(0,s.BX)(C.G,{css:eo.styles7,children:[(0,s.BX)(C.G,{css:eo.styles8,children:[(0,s.tZ)(b.xv,{css:eo.styles9,children:"Your email"}),(0,s.tZ)(b.xv,{children:r.email})]}),(0,s.tZ)(m.zx,{variant:"outlined",onClick:function(){return o(!0)},text:"Edit",iconLeft:(0,s.tZ)(_.Z,{})})]}),h?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(x.Z,{}),text:"Visit the verification link sent to ".concat(U.value," to complete your email change.")}):null,h||r.isVerified?null:(0,s.tZ)(y.E,{colorway:"negative",icon:(0,s.tZ)(G.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function es(){var e,n=(0,a._)((0,S.useState)(!1),2),t=n[0],r=n[1],i=(0,a._)((0,S.useState)(!1),2),l=i[0],o=i[1],c=(0,a._)((0,S.useState)(null),2),u=c[0],d=c[1],h=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),f=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),g=(0,a._)((e=(0,R._)({},z,{onError:function(){return d("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?d(e.updatePassword.message):(d(null),r(!1),o(!0),f.setValue(""),h.setValue(""))}}),A.D($,e)),2),Z=g[0],w=g[1].loading;return t?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),Z({variables:{newPassword:h.value,currentPassword:f.value}})},children:(0,s.BX)(C.G,{css:eo.styles10,children:[(0,s.tZ)(b.h4,{level:2,css:eo.styles11,children:"Update your password"}),(0,s.BX)(C.G,{css:eo.styles12,children:[(0,s.BX)(C.G,{css:eo.styles13,children:[(0,s.tZ)("label",{htmlFor:"currentPassword",children:(0,s.tZ)(b.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,s.tZ)(v.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return f.setValue(e.target.value)},value:f.value})]}),(0,s.BX)(C.G,{css:eo.styles14,children:[(0,s.tZ)("label",{htmlFor:"newPassword",children:(0,s.tZ)(b.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,s.tZ)(v.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),u?(0,s.tZ)(en.Z,{children:u}):null,(0,s.BX)(C.G,{css:eo.styles15,children:[(0,s.tZ)(m.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,s.tZ)(m.zx,{disabled:w,colorway:"primary",type:"submit",text:w?"Updating...":"Update",iconLeft:(0,s.tZ)(x.Z,{})})]})]})}):(0,s.BX)(C.G,{css:eo.styles16,children:[(0,s.BX)(C.G,{css:eo.styles17,children:[(0,s.BX)(C.G,{css:eo.styles18,children:[(0,s.tZ)(b.xv,{css:eo.styles19,children:"Your password"}),(0,s.tZ)(b.xv,{children:"••••••••••••"})]}),(0,s.tZ)(m.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,s.tZ)(_.Z,{})})]}),l?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(x.Z,{}),text:"Password updated"}):null]})}function ec(e){var n,t,r,i,l=e.currentUser,c=(r={},(0,o._)(r,P.aG.Na,"North America"),(0,o._)(r,P.aG.Asia,"Asia"),r),u=(i={},(0,o._)(i,P.aG.Na,"Continental United States"),(0,o._)(i,P.aG.Asia,"Mumbai, India"),i),d=(0,a._)((0,S.useState)(!1),2),h=d[0],p=d[1],f=(0,a._)((0,S.useState)(null),2),m=f[0],v=f[1],g=(0,S.useRef)(null);(0,S.useEffect)(function(){return function(){g.current&&clearTimeout(g.current)}},[]);var Z=(n=(0,R._)({},z,{}),E.a(j,n)),_=Z.data,G=Z.loading,U=(null==_?void 0:_.replContinents.__typename)==="ReplContinentsOutput"?_.replContinents.continents:[],I=U.map(function(e){return{value:e.id,title:c[e.id],subtitle:u[e.id],name:e.name,taller:!0}}),k=l.replContinent,X=I.find(function(e){return e.value===k.id}),W=function(e,n){null!==g.current&&clearTimeout(g.current),g.current=setTimeout(e,n)},D=(0,a._)((t=(0,R._)({},z,{onError:function(){v("Something went wrong"),W(function(){v(null)},4e3)},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(v(null),p(!0),W(function(){p(!1)},4e3)):(v(e.selectReplContinent.message),W(function(){v(null)},4e3))}}),A.D(H,t)),2),N=D[0],V=D[1].loading,M=function(e){var n,t=null===(n=U.find(function(n){return n.id===e}))||void 0===n?void 0:n.id;t!==k.id&&N({variables:{input:{continent:t}}})},Y=(0,s.BX)(C.G,{css:eo.styles20,children:[(0,s.tZ)(b.xv,{css:eo.styles21,children:"Your server location"}),(0,s.tZ)(w.u,{tooltip:"Select a server location closest to you for the best possible experience.",children:(0,s.tZ)(B.Z,{color:T.TV.foregroundDimmer})})]}),F=(0,s.tZ)(C.G,{css:eo.continentSelectContainer,children:G?(0,s.tZ)(C.G,{css:eo.loadingContinentSelect}):(0,s.tZ)(el.P,{css:eo.continentSelect,placeholder:"Select your server location",initialSelectedItem:X,items:I,onChange:function(e){return M(e.value)}})});return(0,s.BX)(C.G,{css:eo.styles26,children:[(0,s.BX)(C.G,{css:eo.continentInputRow,children:[(0,s.BX)(C.G,{css:eo.styles28,children:[Y,(0,s.tZ)(b.xv,{children:V||G?(0,s.tZ)(C.G,{css:eo.loadingContinentTitle}):null==X?void 0:X.title})]}),F]}),m?(0,s.tZ)(y.E,{colorway:"negative",icon:(0,s.tZ)(ei.Z,{}),text:m}):null,h?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(x.Z,{}),text:"Server location updated"}):null]})}function eu(){var e,n,t=(0,a._)((0,S.useState)(!1),2),r=t[0],i=t[1],l=(0,a._)((0,S.useState)(null),2),o=l[0],h=l[1],p=(0,a._)((e={onError:function(){return h("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,d.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,R._)({},z,e),A.D(O,n)),2),f=p[0],v=p[1],y=v.data,Z=v.loading,w=(null==y?void 0:y.deleteAccount)===!0;return(0,s.BX)(C.G,{css:eo.styles29,children:[(0,s.BX)(C.G,{css:eo.styles30,children:[(0,s.tZ)(b.xv,{css:eo.styles31,children:"Danger Zone"}),(0,s.tZ)(b.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,s.tZ)(m.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,s.tZ)(U.Z,{})}),o?(0,s.tZ)(en.Z,{children:o}):null,(0,s.tZ)(g.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,s.BX)(C.G,{css:eo.styles32,children:[(0,s.tZ)(b.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,s.tZ)(b.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,s.BX)(C.G,{css:eo.styles33,children:[(0,s.tZ)(m.zx,{text:"Cancel",disabled:Z||w,onClick:function(){return i(!1)}}),(0,s.tZ)(m.zx,{iconLeft:(0,s.tZ)(U.Z,{}),disabled:Z||w,onClick:function(){return f()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ed(e){var n,t=e.currentUser,r=(0,a._)((0,S.useState)(null),2),i=r[0],l=r[1],o=(0,a._)((n=(0,R._)({},J,{onError:function(){return l("Something went wrong")},onCompleted:function(){return l(null)}}),A.D(ee,n)),2),c=o[0],u=o[1].loading;return(0,s.BX)(I.gC,{spacing:2,align:"stretch",children:[(0,s.BX)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:eo.styles34,children:[(0,s.tZ)(b.xv,{color:"default",css:eo.styles35,children:"Receive transactional notifications via email"}),(0,s.tZ)(w.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,s.tZ)(B.Z,{color:T.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.emailNotifications,onChange:function(){u||c({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,s.BX)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:eo.styles36,children:[(0,s.tZ)(b.xv,{color:"default",css:eo.styles37,children:"Receive marketing notifications"}),(0,s.tZ)(w.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,s.tZ)(B.Z,{color:T.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.marketingNotifications,onChange:function(){u||c({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,s.tZ)(en.Z,{children:i}):null]})}function eh(e){var n=e.currentUser,t=(0,h.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eo.styles38,children:[(0,s.tZ)(ea,{currentUser:n}),(0,s.tZ)(es,{}),t?(0,s.tZ)(ec,{currentUser:n}):null,(0,s.tZ)(ed,{currentUser:n})]}),(0,s.tZ)(C.G,{css:eo.styles39,children:(0,s.tZ)(eu,{})})]})}var ep=(0,et.X)({container:[T.l0.colWithGap(24),T.l0.p(16)],row:[T.l0.flex.row,T.l0.justify.spaceBetween],cell:[T.l0.colWithGap(4)],label:[T.l0.fontWeight.medium]});function ef(e){var n=e.currentUser;return(0,s.tZ)(C.G,{css:ep.container,children:(0,s.tZ)(C.G,{css:ep.row,children:(0,s.BX)(C.G,{css:ep.cell,children:[(0,s.tZ)(b.xv,{css:ep.label,children:"Your email"}),(0,s.tZ)(b.xv,{children:n.email})]})})})}var em=t(13618),ev=t(69170),eg=t(85995),ey=t(88686),eZ=t(85638),eb=t(33359),ew=t(29318),eC=t(95966),ex=t(87128),e_=t(27769);function eB(){var e=(0,k._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return eB=function(){return e},e}function eG(){var e=(0,k._)(["\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n  }\n  ","\n"]);return eG=function(){return e},e}function eU(){var e=(0,k._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eU=function(){return e},e}var eT={},eI=(0,X.Ps)(eB()),eP=(0,X.Ps)(eG(),eI),eS=(0,X.Ps)(eU(),eI),eR=t(43509),ek=t(14375),eX=t(35163),eA=(0,et.X)({styles0:[T.l0.flex.row,T.l0.align.center,T.l0.pb(8)]}),eE=(0,et.X)({subsectionContainer:[T.l0.colWithGap(12),T.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+T.TV.outlineDimmest}}],planButtonLink:[T.l0.width("fit-content")],sectionDivider:[T.l0.width("100%"),T.l0.height(1),T.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eW(e){var n,t,r,i,l=e.currentUser,o=null==l?void 0:null===(t=l.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,a=(null==l?void 0:null===(r=l.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==l?void 0:null===(i=l.cycles.transactions)||void 0===i?void 0:i.items.length)>0,c=o===P.Cs.Apple||o===P.Cs.Google?"Resource usage payment details":"Payment details";return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(b.xv,{variant:"subheadDefault",children:"Your plan"}),(0,s.tZ)(eV,{currentUser:l})]}),(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(b.xv,{variant:"subheadDefault",multiline:!1,children:c}),(0,s.tZ)(ey.S,{})]}),(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(b.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),a?(0,s.tZ)(eD,{}):(0,s.tZ)(eZ.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,s.tZ)(eb.Z,{}),css:eE.planButtonLink})]})]})}function eD(){var e=(0,em.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,s.tZ)(b.xv,{children:"Loading balance..."});return n?r=(0,s.BX)(s.HY,{children:[(0,s.tZ)(eb.Z,{size:16,css:{marginRight:2}}),(0,s.tZ)(b.xv,{multiline:!1,children:n})]}):t&&(r=(0,s.tZ)(y.E,{icon:(0,s.tZ)(ex.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:eA.styles0,children:r}),(0,s.tZ)(eZ.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eE.planButtonLink})]})}function eN(e){var n,t,r=e.currentUser,i=r.billingInfo,l=r.userSubscription,o=(0,ev.Z)(),c=o.showConfirm,u=o.showError,d=(0,a._)((n=(0,R._)({},eT,{onCompleted:function(){c("Your billing period has been updated.")},onError:function(){u("Unable to update billing period.")}}),A.D(eS,n)),2),h=d[0],p=d[1].loading,f=null==l?void 0:l.isTrial,v=(0,eg.DC)(null==i?void 0:null===(t=i.planInfo)||void 0===t?void 0:t.interval),g=(0,eR.z)({planPrefix:ek.dO,planPeriod:"monthly"}).costInUsdCents,y=(0,eR.z)({planPrefix:ek.dO,planPeriod:"yearly"}).costInUsdCents,Z="monthly"===v;if(!f||!v)return null;var b=y&&g?(0,eX.$d)(12*g-y):void 0;return(0,s.tZ)(m.zx,{text:Z?b?"Save ".concat(b," with yearly billing"):"Save with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:Z?"blurple":void 0,disabled:p,iconLeft:p?(0,s.tZ)(ew.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===v?P.qh.Monthly:P.qh.Yearly}}})}})}function eV(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,i=null==t?void 0:t.planInfo,l=null==i?void 0:i.provider,o=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,c=(null==t?void 0:t.expiration)?new Date(t.expiration):null,u=null==i?void 0:i.coupon,d=(null==u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var f=new Date,m=!!c&&f>c,v="You'll retain your ".concat(t?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return(l===P.Cs.Apple||l===P.Cs.Google)&&i?(0,s.tZ)(e_.Z,{planName:i.description,provider:l}):(0,s.BX)(s.HY,{children:[m||o||!i?null:(0,s.tZ)(b.xv,{variant:"small",multiline:!1,children:v}),a?(0,s.tZ)(y.E,{icon:(0,s.tZ)(ex.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,u?(0,s.tZ)(y.E,{icon:(0,s.tZ)(eC.Z,{}),colorway:"positive",text:h}):null,(0,s.BX)(C.G,{css:eE.detailsGrid,children:[!m&&i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,s.tZ)(b.xv,{color:"default",multiline:!1,children:i.description})]}):null,!m&&o?(0,s.BX)(s.HY,{children:[(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,s.tZ)(b.xv,{multiline:!1,children:o.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,s.BX)(s.HY,{children:[(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,s.BX)(b.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,s.tZ)(C.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,s.tZ)(eN,{currentUser:n})})]}):null,m||o||!c?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,s.tZ)(b.xv,{multiline:!1,children:c.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==i?void 0:i.provider)===P.Cs.Stripe?(0,s.tZ)(s.HY,{children:(0,s.BX)(b.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,s.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,s.tZ)(b.xv,{multiline:!1,children:"No billing information"})]})}var eM=t(43182),eY=t(1516),ez=t(18715),eF=t(56023),eL=t(64318),e$=t(66958),eO=t(96955),eH=t(9052),ej=t(83003);function eq(){var e=(0,k._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return eq=function(){return e},e}function eK(){var e=(0,k._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eK=function(){return e},e}function eJ(){var e=(0,k._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eJ=function(){return e},e}var eQ={},e0=(0,X.Ps)(eq());eK();var e1=(0,X.Ps)(eJ(),e0),e2=t(71407),e3=(0,et.X)({serviceContainer:[T.l0.colWithGap(16)],serviceRow:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center],serviceName:[T.l0.fontWeight.medium],multiButtonWrapper:[T.l0.justify.spaceBetween,T.l0.rowWithGap(4)]}),e6=function(e){switch(e){case P.x9.Apple:return"apple.com";case P.x9.Facebook:return"facebook.com";case P.x9.Github:return"github.com";case P.x9.Google:return"google.com";default:(0,eO.Z)(e)}};function e8(e){var n,t,r,i,l,o=e.currentUser,p=(0,eY.L)().user,f=(0,ev.Z)().showConfirm,v=(0,e2.v)({onAuth:function(){f("Successfully updated settings")}}),y=(0,h.P5)({controlName:"flag-github-repo-access-setting",logFlagToAnalytics:!1}),Z=null!==(l=null==p?void 0:p.providerData)&&void 0!==l?l:[],w=(0,a._)((0,S.useState)(null),2),x=w[0],B=w[1],G=(0,a._)((0,S.useState)(null),2),U=G[0],T=G[1],I=(0,eF.J)(),k=(0,a._)((n={onError:function(){return B("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){return[2,B(null)]})})},t=(0,R._)({},eQ,n),A.D(e1,t)),2),X=k[0],E=k[1],W=(r=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:if(p)return[3,1];return eM.Tb(Error("Tried to connect OAuth provider without SDK user")),B("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=e6(e),[4,(0,d.Ps)(p,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?B("This provider is already linked to your account."):B("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),D=(i=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if(n=e.provider,t=e.name,p)return[3,1];return eM.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=e6(n),[4,(0,d.xV)(p,r)];case 2:if("error"===(i=l.sent()).type)switch(i.treatment){case"provider-not-linked":B("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":B("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eO.Z)(i)}l.label=3;case 3:return X({variables:{provider:n.toUpperCase()}}),T(null),[2]}})}),function(e){return i.apply(this,arguments)});return(0,S.useEffect)(function(){var e;(0,d.WT)().then((e=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eH._i)return[3,6];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,ez.d8)(e.result.user)];case 2:if("error"===(t=l.sent()).type)throw Error(t.message);return[3,4];case 3:return r=l.sent(),eM.Tb(r),[2];case 4:return[4,I({userCredential:e.result,oauthProviderId:eH._i,scopes:[]})];case 5:"error"===(i=l.sent()).type&&B(i.message),l.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":B("This provider cannot be used, please try another method.");break;case"email-conflict":B("This email cannot be used, please try another method.");break;case"forbidden-operation":B("That action is not permitted");break;case"user-needs-email":B("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":B("Something unexpected happened, please try again.");break;default:(0,eO.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return eM.Tb(e)})},[]),(0,s.BX)(C.G,{css:e3.serviceContainer,children:[[{name:"GitHub",provider:P.x9.Github,isConnected:o.githubAuth,connectionSettings:y?(0,s.tZ)(m.zx,{text:"Manage",onClick:v,iconLeft:(0,s.tZ)(_.Z,{}),disabled:E.loading}):null},{name:"Google",provider:P.x9.Google,isConnected:o.googleAuth},{name:"Facebook",provider:P.x9.Facebook,isConnected:o.facebookAuth},{name:"Apple",provider:P.x9.Apple,isConnected:o.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,i=e.connectionSettings,l=e6(t),o=Z.find(function(e){return e.providerId===l}),a=null!=r?r:void 0!==o;return(0,s.BX)(C.G,{css:e3.serviceRow,children:[(0,s.tZ)(b.xv,{color:a?"default":"dimmest",css:e3.serviceName,children:n}),(0,s.tZ)("div",{children:a?(0,s.BX)(C.G,{css:e3.multiButtonWrapper,children:[void 0===i?null:i,(0,s.tZ)(m.zx,{onClick:function(){return T({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:E.loading,iconLeft:(0,s.tZ)(eL.Z,{})})]}):(0,s.tZ)(m.zx,{onClick:function(){return W(t)},text:"Connect",iconLeft:(0,s.tZ)(e$.Z,{})})})]},t)}),x?(0,s.tZ)(en.Z,{children:x}):null,(0,s.tZ)(g.u,{isOpen:null!==U,onRequestClose:function(){return T(null)},children:U?(0,s.tZ)(ej.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(U.name),onCancel:function(){return T(null)},onConfirm:function(){return D(U)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var e4=t(77360),e9=t(4565),e5=t(6595),e7=t(64479);function ne(){var e=(0,k._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return ne=function(){return e},e}function nn(){var e=(0,k._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n            url\n            owner {\n              ... on User {\n                id\n                username\n              }\n              ... on Team {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return nn=function(){return e},e}function nt(){var e=(0,k._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nt=function(){return e},e}function nr(){var e=(0,k._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nr=function(){return e},e}var ni={},nl=(0,X.Ps)(ne()),no=(0,X.Ps)(nn()),na=(0,X.Ps)(nt()),ns=(0,X.Ps)(nr()),nc=t(85421),nu=(0,et.X)({section:[T.l0.pt(8),T.l0.colWithGap(8)],replRow:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center,T.l0.p(8),T.l0.borderRadius(8)],replRowLeft:[T.l0.rowWithGap(8),T.l0.align.center],replTitle:[T.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],replRowRight:[T.l0.rowWithGap(8),T.l0.justify.end]});function nd(){var e,n,t,r,i=(0,a._)((0,S.useState)(null),2),l=i[0],o=i[1],c=(0,a._)((e=(0,R._)({},ni,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?o(e.addReplIdentityAllowedRepl.message):(o(null),w())}}),A.D(na,e)),2),u=c[0],d=c[1].loading,h=(0,a._)((n=(0,R._)({},ni,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?o(e.deleteReplIdentityAllowedRepl.message):(o(null),w())}}),A.D(ns,n)),2),p=h[0],f=h[1].loading,v=(t=(0,R._)({},ni,void 0),E.a(no,t)),g=v.data,y=v.loading,Z=v.error,w=v.refetch,x=(0,nc.useRouter)();if(y)return(0,s.tZ)(ew.Z,{});var _=(null==g?void 0:null===(r=g.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?g.allowedReplIdentityRepls.repls:[],B=function(e){var n;return(null===(n=e.owner)||void 0===n?void 0:n.username)?"@".concat(e.owner.username,"/").concat(e.title):e.title};return(0,s.BX)(I.gC,{spacing:2,align:"stretch",children:[(0,s.tZ)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,s.tZ)(b.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,s.tZ)(e5.Z,{disabled:d,filter:function(e){return!_.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){_.find(function(n){return n.id===e.id})||u({variables:{input:{replId:e.id}}})},showComboBox:!0}),_.length>0?(0,s.BX)(C.G,{css:nu.section,children:[(0,s.tZ)(b.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),_.map(function(e){var n=B(e);return e?(0,s.BX)(e7.Tg,{background:"higher",css:nu.replRow,children:[(0,s.BX)(C.G,{css:nu.replRowLeft,children:[(0,s.tZ)(e9.Z,{size:20,alt:n,iconUrl:e.iconUrl}),(0,s.tZ)(b.xv,{multiline:!1,css:nu.replTitle,children:n})]}),(0,s.BX)(C.G,{css:nu.replRowRight,children:[(0,s.tZ)(m.zx,{variant:"outlined",onClick:function(){return x.push(e.url)},text:"Open"}),(0,s.tZ)(m.zx,{disabled:f,onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove",colorway:"negative"})]})]},e.id):null})]}):(0,s.tZ)("p",{children:"You haven't authorized any Repls yet."}),l?(0,s.tZ)(en.Z,{children:l}):null,"string"==typeof Z?(0,s.tZ)(en.Z,{children:Z}):null]})}var nh=t(17198),np=t(83805),nf=t(71089),nm=t(72370),nv=(0,et.X)({preferencesContainer:[T.l0.colWithGap(24)],preference:[T.l0.rowWithGap(8),T.l0.justify.spaceBetween],labelTitle:[T.l0.fontWeight.medium]});function ng(){var e=(0,nh.Gn)("extraDelight"),n=e.preferences,t=e.update,r=(0,np.$0)().fireCircularBurstFrom,i=(0,nm.U)(),l=(0,S.useRef)(null);return(0,s.tZ)(C.G,{css:nv.preferencesContainer,children:(0,s.BX)(C.G,{css:nv.preference,children:[(0,s.BX)(C.G,{tag:"label",htmlFor:i("delight"),children:[(0,s.tZ)(b.xv,{css:nv.labelTitle,children:"Extra delight mode"}),(0,s.tZ)(b.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,s.tZ)(nf.X,{ref:l,id:i("delight"),checked:n.extraDelight,onChange:function(e){e&&l.current&&r({element:l.current}),t({extraDelight:e})}})]})})}var ny=t(54501);function nZ(){var e=(0,k._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return nZ=function(){return e},e}function nb(){var e=(0,k._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nb=function(){return e},e}var nw={},nC=(0,X.Ps)(nZ()),nx=(0,X.Ps)(nb(),nC),n_=(0,et.X)({rolesContainer:[T.l0.colWithGap(24),T.l0.align.stretch],role:[T.l0.rowWithGap(8),T.l0.align.center,T.l0.justify.spaceBetween],label:[T.l0.fontWeight.medium]});function nB(e){var n,t=e.currentUser,r=(0,a._)((0,S.useState)(null),2),i=r[0],l=r[1],o=t.roles.map(function(e){return e.key}),c=(0,a._)((n=(0,R._)({},nw,{onError:function(){return l("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?l(e.updateRole.message):l(null)}}),A.D(nx,n)),2),u=c[0],d=c[1].loading;return(0,s.BX)(C.G,{css:n_.rolesContainer,children:[[{name:"Explorer",role:P.vX.Explorer}].map(function(e){var n=e.name,t=e.role,r=o.includes(t);return(0,s.BX)(S.Fragment,{children:[(0,s.BX)(C.G,{css:n_.role,children:[(0,s.tZ)(b.xv,{color:r?"default":"dimmest",css:n_.label,children:n}),(0,s.tZ)(Z.r,{isSelected:r,onChange:function(){d||u({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===P.vX.Explorer?(0,s.tZ)(y.E,{icon:(0,s.tZ)(ny.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),i?(0,s.tZ)(en.Z,{children:i}):null]})}var nG=t(25012),nU=(0,et.X)({container:[T.l0.colWithGap(16)],row:[T.l0.rowWithGap(16),T.l0.justify.spaceBetween,T.l0.align.center],property:[T.l0.colWithGap(4)],label:[T.l0.fontWeight.medium]}),nT=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,s.tZ)(C.G,{css:nU.container,children:(0,s.BX)(C.G,{css:nU.row,children:[(0,s.BX)(C.G,{css:nU.property,children:[(0,s.tZ)(b.xv,{css:nU.label,children:"Phone Number"}),(0,s.tZ)(b.xv,{children:r})]}),(0,s.tZ)(w.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,s.tZ)(m.zx,{text:"Edit",iconLeft:(0,s.tZ)(_.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,s.tZ)(nG.Z,{context:n,onSuccess:t,autoFocus:!1})},nI=t(54738),nP=t(94311),nS=t(19068),nR=t(73551),nk=t(48345),nX=t(43983),nA=t(72452),nE=t(79050),nW=t(15434),nD=t(16098),nN=t(29252),nV=t(44693),nM=(0,et.X)({section:[T.l0.borderRadius(12)],self:[T.l0.colWithGap(8),T.l0.align.stretch,T.l0.position.relative],header:[T.l0.flex.row,T.l0.justify.spaceBetween,(0,o._)({},T.BC.max("mobileMax"),[T.l0.colWithGap(8)])],actions:[T.l0.align.center,T.l0.rowWithGap(8)],actionButton:[(0,o._)({},T.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[T.l0.rowWithGap(8),T.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function nY(e){var n=e.title,t=e.children,r=(0,nV.oM)();return(0,s.BX)(C.G,{css:nM.self,children:[(0,s.tZ)(C.G,{css:nM.linkAnchor,id:"themes"}),(0,s.BX)(C.G,{css:nM.header,children:[(0,s.tZ)(C.G,{css:nM.titleWrapper,children:(0,s.tZ)(b.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n})}),(0,s.BX)(C.G,{css:nM.actions,children:[(0,s.tZ)(eZ.Z,{dataCy:"browse-themes-button",iconLeft:(0,s.tZ)(e$.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:nM.actionButton}),(0,s.tZ)(eZ.Z,{dataCy:"create-theme-button",iconLeft:(0,s.tZ)(nN.Z,{}),text:"Create Theme",colorway:"primary",href:nV.ZS.href,as:nV.ZS.as,css:nM.actionButton})]})]}),(0,s.tZ)(e7.Tg,{elevated:!0,tag:"section",css:nM.section,children:t})]})}var nz=t(30509),nF=t(51461),nL=t(17761);function n$(){var e=(0,k._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return n$=function(){return e},e}function nO(){var e=(0,k._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return nO=function(){return e},e}var nH=(0,X.Ps)(n$(),nF.LX,nL.x2,nL.sj),nj=(0,X.Ps)(nO(),nH);function nq(){var e=(0,k._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      workspacePreferences\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return nq=function(){return e},e}var nK={},nJ=(0,X.Ps)(nq(),nH),nQ=t(27756),n0=(0,et.X)({self:[T.l0.colWithGap(12)]}),n1=function(){var e,n,t,r,i=(0,ev.Z)().showError,l=(0,nm.U)(),o=(0,a._)((0,S.useState)({count:6}),2),c=o[0],u=o[1],d=(e=(0,R._)({},nK,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),E.a(nJ,e)),h=d.data,p=d.loading,f=d.fetchMore,m=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,R._)({type:"custom",values:r},n)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,nz._)((0,R._)({},e),{after:n.pageInfo.previousCursor})}),f({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,nz._)((0,R._)({},e),{after:n.pageInfo.nextCursor})}),f({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,s.BX)(C.G,{css:n0.self,children:[(0,s.tZ)(b.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,s.tZ)(nQ.Z,{name:l("custom-themes"),themes:m,paginationOptions:g,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:nJ,input:c}})]})};function n2(){var e=(0,k._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      workspacePreferences\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return n2=function(){return e},e}var n3={},n6=(0,X.Ps)(n2(),nj),n8=(0,et.X)({self:[T.l0.colWithGap(12)]}),n4=function(){var e,n,t,r,i=(0,ev.Z)().showError,l=(0,nm.U)(),o=(0,a._)((0,S.useState)({count:6}),2),c=o[0],u=o[1],d=(e=(0,R._)({},n3,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),E.a(n6,e)),h=d.data,p=d.loading,f=d.fetchMore,m=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,i=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==i?e.concat([(0,R._)({type:"custom",values:i},r)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,nz._)((0,R._)({},e),{after:n.pageInfo.previousCursor})}),f({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,nz._)((0,R._)({},e),{after:n.pageInfo.nextCursor})}),f({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,s.BX)(C.G,{css:n8.self,children:[(0,s.tZ)(b.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,s.tZ)(nQ.Z,{name:l("installed-themes"),themes:m,paginationOptions:g,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:n6,input:c}})]})},n9=t(90155),n5=(0,et.X)({subsection:[T.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+T.TV.outlineDimmest}}]}),n7=function(){return(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:n5.subsection,children:(0,s.tZ)(n9.Z,{})}),(0,s.tZ)(C.G,{css:n5.subsection,children:(0,s.tZ)(n1,{})}),(0,s.tZ)(C.G,{css:n5.subsection,children:(0,s.tZ)(n4,{})})]})},te=function(){return(0,s.tZ)(nY,{title:"Themes",children:(0,s.tZ)(n7,{})})},tn=t(25200),tt=t(42380),tr=t(36809),ti=t(14775),tl=t(68586),to=function(){var e,n=(0,a._)((0,S.useState)(!1),2),t=n[0],r=n[1],i=(0,tt.uw)(),l=i.data,o=i.loading,c=l&&(null===(e=l.currentUser)||void 0===e?void 0:e.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===l.currentUser.publicSshKeys.__typename?l.currentUser.publicSshKeys.keys:[],u=c.length>=tl.R;return(0,s.BX)(C.G,{css:ta.self,children:[(0,s.BX)(C.G,{css:ta.header,children:[(0,s.tZ)(C.G,{css:ta.titleWrapper,children:(0,s.tZ)(b.xv,{variant:"subheadBig",multiline:!1,children:"SSH Keys"})}),(0,s.tZ)(C.G,{css:ta.actions,children:(0,s.tZ)(w.u,{tooltip:"You are over the SSH key limit. Please remove some of your keys to add more.",isDisabled:!u,children:(0,s.tZ)(m.zx,{text:"Add SSH key",colorway:"primary",size:"small",disabled:u,iconLeft:(0,s.tZ)(nN.Z,{}),onClick:function(){return r(!0)},css:ta.actionButton})})})]}),(0,s.BX)(e7.Tg,{elevated:!0,tag:"section",css:ta.section,children:[(0,s.tZ)(b.xv,{children:"Authorized keys for SSH access to Repls owned by you"}),o?(0,s.tZ)(C.G,{css:ta.loadingPlaceholder}):(0,s.tZ)(tr.A,{keys:c}),(0,s.tZ)(ti.s,{})]}),(0,s.tZ)(g.u,{isOpen:t,onRequestClose:function(){return r(!1)},centered:!0,children:(0,s.tZ)(tn.r,{onConfirm:function(){return r(!1)}})})]})},ta=(0,et.X)({self:[T.l0.colWithGap(8),T.l0.align.stretch,T.l0.position.relative],header:[T.l0.flex.row,T.l0.justify.spaceBetween,(0,o._)({},T.BC.max("mobileMax"),[T.l0.colWithGap(8)])],actions:[T.l0.align.center,T.l0.rowWithGap(8)],actionButton:[(0,o._)({},T.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[T.l0.rowWithGap(8),T.l0.align.baseline],section:[T.l0.borderRadius(12),T.l0.p(16),T.l0.colWithGap(12)],loadingPlaceholder:[T.l0.backgroundColor.backgroundDefault,er.p.backgroundPulse(),T.l0.borderRadius(4),T.l0.p(8),T.l0.height(24)]}),ts=t(93894),tc=t(47336),tu=t.n(tc),td=t(63567);function th(){var e=(0,k._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return th=function(){return e},e}var tp={},tf=(0,X.Ps)(th(),td.PH,F,eP,nC,Q,e0,nl),tm=t(99609),tv=(0,et.X)({page:[T.l0.flex.column,T.l0.px(16),T.l0.py(64),T.l0.pt(32),(r={marginBottom:"50vh",gap:T.TV.space32},(0,o._)(r,T.BC.max("mobileMax"),[T.l0.pt(24),{gap:T.TV.space16}]),(0,o._)(r,T.BC.max("tabletMax"),[T.l0.mb(0)]),r)],tabContainerTop:[nS.gU.listItem,T.l0.p(4),T.l0.rowWithGap(8),T.l0.borderRadius()],profilePicture:[T.l0.width(44),T.l0.height(44)],nameContainer:[T.l0.flex.column,T.l0.color.foregroundDefault],firstLastName:[T.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[T.l0.flex.row,T.l0.justify.center,(0,o._)({gap:T.TV.space32},T.BC.max("tabletMax"),[T.l0.pb(32),T.l0.flex.column,{gap:T.TV.space16}])],sectionContainer:[T.l0.colWithGap(32),(0,o._)({},T.BC.min("tabletMax"),T.l0.maxWidth(600))],loadingContainer:[T.l0.width(600),T.l0.maxWidth("100%"),T.l0.height(128),T.l0.center],tabContainerWrapper:[T.l0.colWithGap(8),T.l0.width(200),T.l0.position.sticky,T.l0.top(80),(i={alignSelf:"flex-start"},(0,o._)(i,T.BC.max("tabletMax"),[T.l0.width("100%"),T.l0.position.relative,T.l0.top("revert"),T.l0.mb(0)]),(0,o._)(i,T.BC.max("tabletMax"),[T.l0.display.none]),i)],tabContainerAccordion:[T.l0.mb(0),T.l0.mx(8),T.l0.shadow(1),T.l0.borderRadius(),T.l0.zIndex(1),T.l0.position.sticky,T.l0.top(56),T.l0.overflow("hidden"),T.l0.border({color:T.TV.outlineDimmest}),(l={backgroundColor:nS.vb.interactiveBackground,"& > button":{padding:T.TV.space8,fontWeight:T.TV.fontWeightMedium,borderRadius:8}},(0,o._)(l,T.BC.min("tabletMax"),[T.l0.display.none]),(0,o._)(l,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(T.TV.outlineDimmest)}),l)],tabComponent:[nS.gU.listItem,T.l0.p(8),T.l0.display.flex,T.l0.borderRadius(),T.l0.rowWithGap(8),T.l0.height(32),T.l0.align.center,{"&:hover":{color:T.TV.foregroundDefault},"&:hover > svg":{color:T.TV.foregroundDefault}}],tabComponentBorder:[T.l0.my(2),T.l0.mx(4),T.l0.height(1),T.l0.width("calc(100% - 8px)"),T.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":T.l0.borderRadius(0)},roundedCorners:{"& a":T.l0.borderRadius()}}),tg=(0,et.X)({base:[tv.tabComponent,T.l0.backgroundColor.backgroundRoot,T.l0.color.foregroundDimmer,{"& > svg":T.l0.color.foregroundDimmest}],selected:[tv.tabComponent,T.l0.backgroundColor.backgroundDefault,T.l0.color.foregroundDefault,{"& > svg":T.l0.color.foregroundDefault}]}),ty=[{icon:(0,s.tZ)(nD.Z,{}),label:"Profile",href:"profile"},{icon:(0,s.tZ)(nW.Z,{}),label:"Account",href:"account"},{icon:(0,s.tZ)(x.Z,{}),label:"Verification",href:"verification"},{icon:(0,s.tZ)(nX.Z,{}),label:"Billing",href:"billing"},{icon:(0,s.tZ)(nk.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,s.tZ)(nR.Z,{}),label:"Roles",href:"roles"},{icon:(0,s.tZ)(tm.Z,{}),label:"SSH Keys",href:"ssh-keys"},{icon:(0,s.tZ)(e$.Z,{}),label:"Connected Services",href:"connected-services"},{icon:(0,s.tZ)(nA.Z,{}),label:"Repl Identity",href:"repl-identity"},{icon:(0,s.tZ)(nE.Z,{}),label:"Themes",href:"themes"}],tZ=function(e){var n=e.icon,t=e.label,r=e.href,i=e.selected,l=e.bottomBorder,o=e.onClick;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(tu(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,s.BX)("a",{onClick:o,css:i?tg.selected:tg.base,children:[n,(0,s.tZ)(b.xv,{color:"default",children:t})]})}),l?(0,s.tZ)(C.G,{css:tv.tabComponentBorder}):null]})};function tb(){var e,n=(e=(0,R._)({},tp,{ssr:!1}),E.a(tf,e)),t=n.data,r=n.refetch,i=null==t?void 0:t.currentUser,l=null==i?void 0:i.roles.some(function(e){return e.key===P.vX.PrivacyLimitedAccess}),o=(0,h.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),c=null==i?void 0:i.isSubscribed,u=(0,a._)((0,S.useState)(void 0),2),d=u[0],p=u[1];(0,S.useEffect)(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}},[i]);var f=(0,a._)((0,S.useState)(!1),2),m=f[0],v=f[1],g=function(e){var n=e.straightCorners,t=function(e){p(e),v(!1)};return(0,s.tZ)(C.G,{css:n?tv.straightCorners:tv.roundedCorners,children:ty.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!o)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return l&&n||"ssh-keys"===e.href&&!c?null:(0,s.tZ)(tZ,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:d===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,s.tZ)(C.G,{css:tv.page,children:(0,s.BX)(C.G,{css:tv.main,children:[(0,s.BX)(C.G,{css:tv.tabContainerWrapper,children:[(0,s.tZ)(tu(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.BX)(C.G,{css:tv.tabContainerTop,children:[(0,s.tZ)(nP.q,{size:48,css:tv.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,s.BX)(C.G,{css:tv.nameContainer,children:[(0,s.BX)(b.xv,{variant:"subheadDefault",color:"default",css:tv.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,s.tZ)(b.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,s.tZ)(g,{straightCorners:!1,showVerification:o})]}),(0,s.tZ)(nI.Q,{headerContent:"Jump to",css:tv.tabContainerAccordion,expanded:m,onClick:function(){return v(!m)},children:(0,s.tZ)(g,{straightCorners:!0,showVerification:o})}),(0,s.tZ)(C.G,{css:tv.sectionContainer,children:i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(tC,{title:"Profile",id:"profile",setInView:p,children:(0,s.tZ)(e4.ZP,{currentUser:i})}),(0,s.tZ)(tC,{title:"Account",id:"account",setInView:p,flush:!0,children:l?(0,s.tZ)(ef,{currentUser:i}):(0,s.tZ)(eh,{currentUser:i})}),o?(0,s.tZ)(tC,{title:"Verification",id:"verification",setInView:p,children:(0,s.tZ)(nT,{context:P.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,l?null:(0,s.tZ)(tC,{title:"Billing",id:"billing",setInView:p,flush:!0,children:(0,s.tZ)(eW,{currentUser:i})}),(0,s.tZ)(tC,{title:"Preferences",id:"preferences",setInView:p,children:(0,s.tZ)(ng,{})}),(0,s.tZ)(tC,{title:"Roles",id:"roles",setInView:p,children:(0,s.tZ)(nB,{currentUser:i})}),c?(0,s.tZ)(tC,{setInView:p,id:"ssh-keys",surface:!1,children:(0,s.tZ)(to,{})}):null,l?null:(0,s.tZ)(tC,{title:"Connected Services",id:"connected-services",setInView:p,children:(0,s.tZ)(e8,{currentUser:i})}),i.hasReplitIdentityTesting?(0,s.tZ)(tC,{title:"Repl Identity",id:"repl-identity",setInView:p,children:(0,s.tZ)(nd,{})}):null," ",(0,s.tZ)(tC,{id:"themes",setInView:p,surface:!1,children:(0,s.tZ)(te,{})})]}):(0,s.tZ)(C.G,{css:tv.loadingContainer,children:(0,s.tZ)(ew.Z,{size:20})})})]})})}var tw=(0,et.X)({sectionWrapper:[T.l0.position.relative,T.l0.colWithGap(8),(0,o._)({scrollMarginTop:108},T.BC.min("tabletMax"),{scrollMarginTop:80})],section:[T.l0.p(16),T.l0.borderRadius("container")],sectionFlush:[T.l0.borderRadius("container")],anchor:[T.l0.position.absolute,T.l0.top("50%"),T.l0.width(1),T.l0.height(1)]});function tC(e){var n=e.title,t=e.children,r=e.id,i=e.setInView,l=e.surface,o=e.flush,a=(0,S.useRef)(null),c=(0,ts.Y)(a,{margin:"0px 0px -80% 0px",amount:0});(0,S.useEffect)(function(){c&&i(r)},[r,c,i]);var u=void 0===l||l?(0,s.tZ)(e7.Tg,{elevated:!0,tag:"section",css:o?tw.sectionFlush:tw.section,children:t}):(0,s.tZ)(C.G,{tag:"section",children:t});return(0,s.BX)(C.G,{css:tw.sectionWrapper,id:r,innerRef:a,children:[n?(0,s.tZ)(b.h4,{level:2,variant:"subheadBig",children:n}):null,u]})}},6595:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(41733),i=t(30509),l=t(66626),o=t(63257),a=t(4216),s=t(77450),c=t(91945),u=t(17642),d=t(14872),h=t(85733),p=t(10495),f=t(72333),m=t(19068),v=t(82230),g=t(94778),y=t(29318),Z=t(90493),b=t(72093),w=t(21371),C=t(50959),x=t(86069),_=g.K.input,B=g.K.div,G=g.K.li,U=(0,s.iv)([m.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function T(e){var n,t=e.id,s=e.className,m=e.disabled,T=e.filter,I=e.manualSelect,P=e.excludePrivate,S=e.excludeMultiplayer,R=e.onSelect,k=e.selectedIconOverride,X=e.showComboBox,A=(0,l._)((0,C.useState)([]),2),E=A[0],W=A[1],D=(0,l._)((0,C.useState)(""),2),N=D[0],V=D[1],M=(0,C.useRef)(null),Y=T?E.filter(T):E,z=function(e){return e?e.owner?"".concat(e.owner.username,"/").concat(e.title):e.title:""},F=(0,w.Kb)({items:Y,initialHighlightedIndex:I?-1:0,itemToString:z});(0,C.useEffect)(function(){return V(F.inputValue)},[F.inputValue]);var L=(0,d.Z)(N,100),$=(0,x.aF)({variables:{search:L,excludePrivate:P,excludeMultiplayer:S},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){W([]);return}W(e.currentUser.replSearch.reduce(function(e,n){return n?(0,o._)(e).concat([n]):e},[]))}}).loading,O=(0,h.Z)(R);(0,C.useEffect)(function(){var e;F.selectedItem&&(null===(e=M.current)||void 0===e||e.blur(),O.current(F.selectedItem))},[F.selectedItem,O]);var H=(null===(n=F.selectedItem)||void 0===n?void 0:n.iconUrl)&&F.inputValue?(0,a.tZ)(g.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:k||(0,a.tZ)(f.ZP,{alt:F.selectedItem.title,iconUrl:F.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(g.G,{css:[{position:"relative"}],className:s,children:[(0,a.BX)(B,(0,i._)((0,r._)({},F.getComboboxProps()),{css:{position:"relative"},children:[H,(0,a.tZ)(_,(0,r._)({css:[U,b.l0.pr(32),H&&b.l0.pl(32)]},F.getInputProps({ref:M,id:t,placeholder:"Search for a Repl",onFocus:void 0===X||X?function(e){F.selectedItem&&(e.preventDefault(),e.currentTarget.select(),V("")),F.openMenu()}:void 0}))),(0,a.tZ)(g.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(Z.Z,{})})]})),(0,a.tZ)(B,(0,i._)((0,r._)({},F.getMenuProps()),{css:{position:"relative"},children:F.isOpen&&!m?(0,a.BX)(c.Z,{children:[$?(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,Y.length||$?null:(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(v.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",E.length>0?"more ":null,"repls found"]})}),Y.map(function(e,n){return(0,a.tZ)(G,(0,i._)((0,r._)({},F.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:N,title:z(e),subtitle:(0,p.F)(e.timeUpdated),selected:F.selectedItem===e,highlighted:F.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(f.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},57795:function(e,n,t){t.d(n,{KD:function(){return u},s8:function(){return d},t9:function(){return h}});var r=t(41733),i=t(21262),l=t(71440),o=t(58995);function a(){var e=(0,i._)(["\n  fragment CyclesBalanceFragment on CurrentUser {\n    id\n    cycles {\n      balance {\n        __typename\n        ... on CyclesBalance {\n          cycles\n          lastUpdated\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on ServiceUnavailable {\n          message\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,i._)(["\n  query CyclesBalance {\n    currentUser {\n      id\n      ...CyclesBalanceFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,l.Ps)(a()),d=(0,l.Ps)(s(),u);function h(e){var n=(0,r._)({},c,e);return o.a(d,n)}},13618:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(35163),i=t(50511),l=t(57795);function o(e){return e<1e4?e.toLocaleString():(0,i.d)(e,1)}function a(e){var n,t=e.forceFetch,i=(0,l.t9)({fetchPolicy:t?"cache-and-network":"cache-first",nextFetchPolicy:"cache-first",ssr:!1}),a=i.data,s=i.loading,c=i.error,u=null==a?void 0:null===(n=a.currentUser)||void 0===n?void 0:n.cycles.balance;if(c||null!=u&&"CyclesBalance"!==u.__typename)return{error:"Failed to fetch cycles balance",loading:!1};var d=(null==u?void 0:u.__typename)==="CyclesBalance"?u.cycles:void 0,h=void 0!==d?o(d):"",p=1===d?"Cycle":"Cycles",f=void 0!==d?"".concat(o(d)," ").concat(p):"",m=void 0!==d?(0,r.H2)(d):"";return{cycles:d,formattedBalanceValue:h,formattedBalanceWithUnit:f,formattedBalanceWithDecimals:m,error:c,loading:s}}},88686:function(e,n,t){t.d(n,{S:function(){return T}});var r=t(4216),i=t(59195),l=t(12113),o=t(40671),a=t(77536),s=t(15235),c=t(67242),u=t(85763),d=t(99236),h=t(94778),p=t(49224),f=t(76575),m=t(73789),v=t(29318),g=t(29252),y=t(72093),Z=t(50959),b=t(14375),w=(0,p.X)({self:[y.l0.colWithGap(16)],paymentMethodContainer:[y.l0.colWithGap(16)],addPaymentMethodContainer:[y.l0.colWithGap(6)],loadingContainer:[y.l0.justify.center,y.l0.align.center,y.l0.minHeight(80)],updatePaymentIcon:[y.l0.rowWithGap(8),y.l0.align.center]});function C(e){var n=e.goToNewPaymentMethodForm,t=e.showUsageSettingsBudget,p=(0,o.U)(),y=p.loading,C=p.isOnTrialPlan,x=p.trialWillCancel,_=(0,a.Q)(),B=_.paymentMethod,G=_.loading,U=_.error,T=(0,Z.useMemo)(function(){return C&&!x?(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(m.Z,{}),text:(0,r.BX)(r.HY,{children:["Adding a payment method will set your Replit ",b.we," ","membership to auto-renew at the end of the trial."]})}):(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(m.Z,{}),text:"Add a payment method to enable additional resource usage."})},[C,x]);return G||y||null!=U?(0,r.tZ)(h.G,{css:w.loadingContainer,children:(0,r.tZ)(v.Z,{})}):(0,r.BX)(h.G,{css:w.self,children:[null!=B?(0,r.BX)(h.G,{css:w.paymentMethodContainer,children:[(0,r.BX)(h.G,{css:w.updatePaymentIcon,children:[(0,r.tZ)(u.hU,{alt:"Update Payment Method",onClick:n,children:(0,r.tZ)(f.Z,{})}),(0,r.tZ)(i.R,{last4:B.last4})]}),t?(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.R,{}),(0,r.tZ)(l.L,{})]}):null]}):null," ",null==B?(0,r.BX)(h.G,{css:w.addPaymentMethodContainer,children:[T,(0,r.tZ)(s.zx,{text:"Add Payment Method",iconLeft:(0,r.tZ)(g.Z,{}),onClick:n})]}):null]})}var x=t(28341),_=t(24774),B=t(82230),G=t(2511),U=(0,p.X)({paymentMethodFormContainer:[y.l0.colWithGap(16)],paymentMethodFormHeader:[y.l0.rowWithGap(8),y.l0.align.center]});function T(){var e=(0,_.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(C,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(h.G,{css:U.paymentMethodFormContainer,children:[(0,r.BX)(h.G,{css:U.paymentMethodFormHeader,children:[(0,r.tZ)(u.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(G.Z,{})}),(0,r.tZ)(B.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(x.q,{onSuccess:t,context:"account_page"})]})}}},24774:function(e,n,t){t.d(n,{P:function(){return o}});var r=t(66626),i=t(63257),l=t(50959);function o(e){var n=(0,r._)((0,l.useState)(e),2),t=n[0],o=n[1],a=(0,r._)((0,l.useState)([]),2),s=a[0],c=a[1],u=(0,l.useCallback)(function(e){c((0,i._)(s).concat([t])),o(e)},[s,c,t,o]);return{currentStep:t,goTo:u,goBack:(0,l.useCallback)(function(){var e=s.pop();c(s),e&&o(e)},[s,c,o]),canGoBack:s.length>0}}},27769:function(e,n,t){t.d(n,{Z:function(){return c},m:function(){return s}});var r=t(4216),i=t(99236),l=t(94778),o=t(72093),a=t(85438);function s(e,n){switch(n){case a.Cs.Apple:return"You subscribed to your ".concat(e," plan through Apple. You can manage it in the Replit iOS app or the subscriptions section of the App Store.");case a.Cs.Google:return"You subscribed to your ".concat(e," plan through Google. You can manage it in the Replit Android app or the subscriptions section of the Google Play Store.");case a.Cs.Stripe:throw Error("Should be querying Stripe details on web.")}}function c(e){var n=e.planName,t=e.provider;return(0,r.tZ)(l.G,{css:[o.l0.colWithGap(8),o.l0.align.start],children:(0,r.tZ)(i.E,{colorway:"blue",text:s(n,t)})})}}}]);
//# sourceMappingURL=5433-dc7c9ec002cc3637.js.map